# Electron ECU Data Prototype

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø –Ω–∞ Electron –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ real-time –¥–∞–Ω–Ω—ã—Ö —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 40ms (25 Hz), –∏–º–∏—Ç–∏—Ä—É—é—â–∏—Ö –ø–æ—Ç–æ–∫ –æ—Ç –≠–ë–£ –¥–≤–∏–≥–∞—Ç–µ–ª—è.

**–°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç:** 300 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –∫–∞–∂–¥–æ–º –ø–∞–∫–µ—Ç–µ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –≤–æ–∑–º–æ–∂–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ —Å Qt/QML –Ω–∞ Electron.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js 20+
- npm 11+
- macOS 10.15+ (—Ç–µ–∫—É—â–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
npm install
```

### –ó–∞–ø—É—Å–∫
```bash
npm start
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –≤ dev —Ä–µ–∂–∏–º–µ —Å hot-reload —á–µ—Ä–µ–∑ Vite.

### –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (5 –º–∏–Ω—É—Ç)
1. –ù–∞–∂–∞—Ç—å "Start Simulation" –≤ UI
2. –î–∞—Ç—å –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å 5 –º–∏–Ω—É—Ç
3. –ù–∞–∂–∞—Ç—å "Stop Simulation"
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏: FPS, CPU, Memory, Dropped Packets
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ `logs/` –ø–∞–ø–∫–µ

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
- **[üëâ HANDOFF TO SERGEY](HANDOFF_TO_SERGEY.md)** - üì¶ **–ù–ê–ß–ù–ò –ó–î–ï–°–¨!** –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞ (Windows, COM-port, —Ç–µ—Å—Ç—ã)
- **[–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ](electron_prototype_spec.md)** - –ø–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞, KPI, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **[–ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](roadmap.md)** - 7 —ç—Ç–∞–ø–æ–≤, 40 –∑–∞–¥–∞—á, —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å (77% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
- **[–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π](CHANGELOG.md)** - –≤–µ—Ä—Å–∏–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤
- **[–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤](TEST_RESULTS.md)** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã 5-–º–∏–Ω—É—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ (macOS)
- **[–ë—ã—Å—Ç—Ä—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã](QUICK_RESULTS.txt)** - –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- **[–î–µ—Ç–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞](docs/setup.md)** - prerequisites, troubleshooting *(–µ—Å–ª–∏ —Å–æ–∑–¥–∞–Ω)*
- **[–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](docs/architecture.md)** - Main/Renderer/Preload, IPC, data flow *(–µ—Å–ª–∏ —Å–æ–∑–¥–∞–Ω)*
- **[–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](docs/testing.md)** - 4 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è, –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ *(–µ—Å–ª–∏ —Å–æ–∑–¥–∞–Ω)*
- **[Troubleshooting](docs/troubleshooting.md)** - —á–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è *(–µ—Å–ª–∏ —Å–æ–∑–¥–∞–Ω)*

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**Core:**
- **Electron 34.0.0** (Chromium 132, Node.js 20.18.1)
- **TypeScript 5.3.3**
- **Electron Forge 7.10.2** - build tooling
- **Vite 5.4.21** - fast bundler with HMR

**Charts:**
- **uPlot 1.6.30** (10% CPU vs 40% —É Chart.js –ø—Ä–∏ 60 FPS)

**IPC:**
- **MessagePort** (10% –±—ã—Å—Ç—Ä–µ–µ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ ipcRenderer)
- **Float64Array** –¥–ª—è –¥–∞–Ω–Ω—ã—Ö (2x –±—ã—Å—Ç—Ä–µ–µ —Å structured clone)

**Logging:**
- **Pino 9.4.0** (<1% overhead, async by default)
- **rotating-file-stream 3.2.0** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤

**Performance:**
- **PrecisionTimer** (custom) - drift compensation —á–µ—Ä–µ–∑ process.hrtime.bigint()
- **CircularBuffer** (custom) - fixed memory footprint –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤

## KPI –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (macOS, 5-minute test)

1. ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** 5 min 4 sec –±–µ–∑ —Å–±–æ–µ–≤ (7614 –ø–∞–∫–µ—Ç–æ–≤)
2. ‚úÖ **FPS:** 60.36 avg (—Ü–µ–ª—å ‚â•55) - **–ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –Ω–∞ 9.7%**
3. ‚úÖ **Dropped Packets:** 0 / 7614 (0.00%) - **Perfect!**
4. ‚úÖ **Latency:** 0.69ms avg (—Ü–µ–ª—å <50ms) - **–≤ 72 —Ä–∞–∑–∞ –ª—É—á—à–µ!**
5. ‚úÖ **CPU:** 1.72% avg (—Ü–µ–ª—å <40%) - **–≤ 23 —Ä–∞–∑–∞ –ª—É—á—à–µ!**
6. ‚úÖ **Memory:** +16.75 MB (—Ü–µ–ª—å <50MB) - **–≤ 3 —Ä–∞–∑–∞ –ª—É—á—à–µ!**
7. ‚úÖ **Charts:** 0.61ms render time - **–ø–ª–∞–≤–Ω–æ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ!**

**–ò—Ç–æ–≥:** ‚úÖ **–í–°–ï 7 KPI –í–´–ü–û–õ–ù–ï–ù–´ –° –ë–û–õ–¨–®–ò–ú –ó–ê–ü–ê–°–û–ú!**

–°–º. [TEST_RESULTS.md](TEST_RESULTS.md) –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞ –∏ [roadmap.md](roadmap.md) –¥–ª—è –ø–æ–ª–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã KPI.

## –ö–æ–º–∞–Ω–¥—ã

```bash
# Development (—Å hot-reload)
npm start

# Build –¥–ª—è production
npm run package

# –°–æ–∑–¥–∞—Ç—å –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã (.dmg, .zip)
npm run make

# Lint
npm run lint
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
electron_prototype/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main/             # Main Process (Node.js)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.ts       # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data-generator.ts  # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä 300 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ precision-timer.ts # –¢–∞–π–º–µ—Ä @ 25Hz —Å drift compensation
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts      # TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ preload/          # Preload script (contextBridge)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ preload.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ preload.d.ts
‚îÇ   ‚îî‚îÄ‚îÄ renderer/         # Renderer Process (UI)
‚îÇ       ‚îú‚îÄ‚îÄ renderer.ts   # UI –ª–æ–≥–∏–∫–∞
‚îÇ       ‚îî‚îÄ‚îÄ styles.css    # –°—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ index.html            # UI —Ä–∞–∑–º–µ—Ç–∫–∞
‚îú‚îÄ‚îÄ forge.config.ts       # Electron Forge –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ vite.*.config.ts      # Vite –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (main/preload/renderer)
‚îî‚îÄ‚îÄ docs/                 # –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

**–≠—Ç–∞–ø—ã 1-6:** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–´** (40/40 –∑–∞–¥–∞—á = 100%)
- –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚úÖ
- –≠—Ç–∞–ø 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö ‚úÖ
- –≠—Ç–∞–ø 3: IPC —á–µ—Ä–µ–∑ MessagePort ‚úÖ
- –≠—Ç–∞–ø 4: UI –∏ Control Panel ‚úÖ
- –≠—Ç–∞–ø 5: –ì—Ä–∞—Ñ–∏–∫–∏ —Å uPlot ‚úÖ
- –≠—Ç–∞–ø 6: Performance Logging ‚úÖ

**–≠—Ç–∞–ø 7:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - 5-–º–∏–Ω—É—Ç–Ω—ã–π acceptance test **–ü–†–û–ô–î–ï–ù** ‚úÖ

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
- Windows —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–°–µ—Ä–≥–µ–π)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ COM-–ø–æ—Ä—Ç–∞
- –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã –Ω–∞ Windows

–°–º. [roadmap.md](roadmap.md) –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## –î–ª—è –°–µ—Ä–≥–µ—è (Windows + COM-port)

**üëâ –ù–ê–ß–ù–ò –° –≠–¢–û–ì–û –§–ê–ô–õ–ê: [HANDOFF_TO_SERGEY.md](HANDOFF_TO_SERGEY.md)**

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É –Ω–∞ Windows
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é COM-–ø–æ—Ä—Ç–∞ (–≤–º–µ—Å—Ç–æ —Å–∏–º—É–ª—è—Ü–∏–∏)
- –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è Windows
- Troubleshooting Windows-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
- –ß–µ–∫-–ª–∏—Å—Ç –∑–∞–¥–∞—á

## –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** v0.5.0

**–ò—Å—Ç–æ—Ä–∏—è:**
- v0.5.0 - Performance Logging + 5-minute acceptance test (–≤—Å–µ KPI ‚úÖ)
- v0.4.1 - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ packet.data ‚Üí packet.values (–≥—Ä–∞—Ñ–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç)
- v0.4.0 - UI + FPS monitoring + uPlot charts
- v0.3.0 - MessagePort IPC
- v0.2.0 - Data generation + PrecisionTimer
- v0.1.0 - –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–°–º. [CHANGELOG.md](CHANGELOG.md) –¥–ª—è –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
